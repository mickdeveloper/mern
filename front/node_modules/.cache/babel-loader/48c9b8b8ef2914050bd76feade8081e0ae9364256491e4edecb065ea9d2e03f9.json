{"ast":null,"code":"import{useEffect,useState}from\"react\";import AdSidebar from\"./AdSidebar\";import Nav from\"./Navbar\";import{Table}from'reactstrap';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{Paper,TableBody,TableCell,TableContainer,TableHead,TablePagination,TableRow}from'@mui/material';import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Subcribes(){const columns=[{id:'id',name:'S.no'},{id:'id',name:'Email'},{id:'id',name:'Action'}];const[pageIndex,pagechange]=useState(0);const[rowperpage,rowperpagechange]=useState(2);const handlechangepage=(e,newpage)=>{pagechange(newpage);};const handelrowperpage=e=>{rowperpagechange(+e.target.value);pagechange(0);};const[subemail,setshowsubemail]=useState('');const[message,setMessage]=useState('');useEffect(()=>{fetch('/skapi/showsubemails').then(result=>{return result.json();}).then(data=>{//  console.log(data)\nif(data.status===200){setshowsubemail(data.apiData);}else{setMessage(data.message);}});},[subemail]);function handledelete(e,id){// Use window.confirm to show a confirmation dialog\nconst confirmed=window.confirm(\"Are you sure you want to delete this data?\");if(confirmed){fetch(\"/skapi/adminsubemaildel/\".concat(id),{method:\"DELETE\"}).then(result=>{return result.json();}).then(data=>{if(data.status===200){toast(\"Successfully Deleted\",{position:\"top-center\",autoClose:2000});}else{toast(\"Try Again\",{position:\"top-center\",autoClose:2000});}});}else{// User canceled the deletion\n// You can add code to handle the cancellation here if needed\n}}const[toggle,setToggle]=useState(true);const notify=toast;const Toggle=()=>{setToggle(!toggle);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid bg-primary min-vh-100 \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row \",children:[toggle&&/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-md-2  vh-100  bg-white\",children:/*#__PURE__*/_jsx(AdSidebar,{})}),toggle&&/*#__PURE__*/_jsx(\"div\",{className:\"col-1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(Nav,{Toggle:Toggle}),/*#__PURE__*/_jsxs(Paper,{sx:{width:'100%',marginTop:'50px',minHeight:'300px'},children:[/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{className:\"table table-hover\",children:/*#__PURE__*/_jsx(TableRow,{children:columns&&columns.map(column=>/*#__PURE__*/_jsx(TableCell,{className:\"fw-bold\",children:column.name},column.id))})}),/*#__PURE__*/_jsx(TableBody,{children:subemail&&subemail.slice(+pageIndex*+rowperpage,+pageIndex*+rowperpage+ +rowperpage).map((result,key)=>/*#__PURE__*/_jsxs(TableRow,{tabIndex:-1,children:[/*#__PURE__*/_jsx(TableCell,{children:key+1+pageIndex*rowperpage}),/*#__PURE__*/_jsxs(TableCell,{children:[result.email,\" \"]}),/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsxs(Link,{to:'',className:\"\",onClick:e=>{handledelete(e,result._id,toast);},children:[/*#__PURE__*/_jsx(\"i\",{class:\"bi bi-trash-fill text-danger \"}),\" \"]}),/*#__PURE__*/_jsx(ToastContainer,{})]})]},key+1+pageIndex*rowperpage))})]})}),/*#__PURE__*/_jsx(TablePagination,{rowPerpageOption:[3,5,10],page:pageIndex,count:subemail.length,rowsPerPage:rowperpage,component:\"div\",onPageChange:handlechangepage,onRowsPerPageChange:handelrowperpage})]})]})]})})});}export default Subcribes;","map":{"version":3,"names":["useEffect","useState","AdSidebar","Nav","Table","ToastContainer","toast","Paper","TableBody","TableCell","TableContainer","TableHead","TablePagination","TableRow","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Subcribes","columns","id","name","pageIndex","pagechange","rowperpage","rowperpagechange","handlechangepage","e","newpage","handelrowperpage","target","value","subemail","setshowsubemail","message","setMessage","fetch","then","result","json","data","status","apiData","handledelete","confirmed","window","confirm","concat","method","position","autoClose","toggle","setToggle","notify","Toggle","children","className","sx","width","marginTop","minHeight","map","column","slice","key","tabIndex","email","to","onClick","_id","class","rowPerpageOption","page","count","length","rowsPerPage","component","onPageChange","onRowsPerPageChange"],"sources":["C:/Users/mustk/Downloads/sknew/front/src/componets/Admin/Subcribes.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport AdSidebar from \"./AdSidebar\";\r\nimport Nav from \"./Navbar\";\r\nimport { Table} from 'reactstrap'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport  'react-toastify/dist/ReactToastify.css';\r\nimport { Paper, TableBody, TableCell, TableContainer, TableHead, TablePagination, TableRow } from '@mui/material'\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Subcribes() {\r\n    const columns = [\r\n        { id: 'id', name: 'S.no' },\r\n        { id: 'id', name: 'Email' },\r\n        { id: 'id', name: 'Action',  },\r\n    \r\n      ]\r\n      const [pageIndex,pagechange]=useState(0)\r\n      const [rowperpage,rowperpagechange]=useState(2)\r\n      const handlechangepage=(e,newpage)=>{\r\n     \r\n          pagechange(newpage)\r\n        }\r\n       const  handelrowperpage=(e)=>{\r\n          rowperpagechange(+e.target.value);\r\n          pagechange(0)\r\n      \r\n        }\r\n      const [subemail,setshowsubemail]=useState('')\r\n      const [message,setMessage]=useState('')\r\n      useEffect(() => {\r\n        fetch('/skapi/showsubemails',\r\n          ).then((result)=>{return result.json()}).then((data)=>{\r\n       //  console.log(data)\r\n         if(data.status===200){\r\n           setshowsubemail(data.apiData)\r\n           }else{\r\n            setMessage(data.message)\r\n      }\r\n        })\r\n     }, [subemail]) \r\n      \r\n     function handledelete(e, id) {\r\n        // Use window.confirm to show a confirmation dialog\r\n         const confirmed = window.confirm(\"Are you sure you want to delete this data?\");\r\n      \r\n        if (confirmed) {\r\n          fetch(`/skapi/adminsubemaildel/${id}`, {\r\n            method: \"DELETE\",\r\n          }).then((result) => {\r\n              return result.json();\r\n            })\r\n            .then((data) => {\r\n              if (data.status === 200) {\r\n                toast(\"Successfully Deleted\", {\r\n                  position: \"top-center\",\r\n                  autoClose: 2000,\r\n                });\r\n              } else {\r\n                toast(\"Try Again\", {\r\n                  position: \"top-center\",\r\n                  autoClose: 2000,\r\n                });\r\n              }\r\n            });\r\n        } else {\r\n          // User canceled the deletion\r\n          // You can add code to handle the cancellation here if needed\r\n        }\r\n      }  \r\n      const [toggle, setToggle] = useState(true)\r\n      const notify=toast\r\n    const Toggle = () => {\r\n        setToggle(!toggle)\r\n    }\r\n    return (\r\n        <>\r\n        <div className='container-fluid bg-primary min-vh-100 '>\r\n           \r\n           <div className='row '>\r\n               {toggle && <div className='col-4 col-md-2  vh-100  bg-white' >\r\n               <AdSidebar/>\r\n                   </div>}            \r\n               {toggle && <div className='col-1'></div>}\r\n               <div className='col'> \r\n               <Nav Toggle={Toggle} /> \r\n     \r\n\r\n<Paper sx={{ width: '100%', marginTop:'50px', minHeight:'300px'}}>\r\n              <TableContainer>\r\n                <Table>\r\n                \r\n                  <TableHead className=\"table table-hover\">\r\n                    <TableRow>\r\n                      {columns && columns.map((column) => (\r\n                        <TableCell className=\"fw-bold\" key={column.id}>{column.name}\r\n\r\n                        </TableCell>\r\n                      ))}\r\n\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                {subemail && subemail.slice((+pageIndex) *(+rowperpage) ,(+pageIndex)*(+rowperpage) +(+rowperpage)) .map((result,key)=>(\r\n                <TableRow  tabIndex={-1} key={key+1+pageIndex* rowperpage}>\r\n\r\n\r\n<TableCell>{key+1+ pageIndex* rowperpage}</TableCell>\r\n<TableCell>{result.email} </TableCell>\r\n\r\n                   <TableCell  >\r\n                   <Link to={''} className=\"\" onClick={(e)=>{handledelete(e,result._id,toast)}}><i class=\"bi bi-trash-fill text-danger \"></i> </Link> \r\n                   <ToastContainer/>\r\n\r\n                   \r\n                   </TableCell>\r\n                 \r\n                 \r\n                     </TableRow>\r\n                ))}\r\n                 \r\n                \r\n\r\n\r\n                </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n              <TablePagination \r\n              rowPerpageOption={[3,5,10]}\r\n              page={pageIndex}\r\n            \r\n              count={subemail.length}\r\n              \r\n              rowsPerPage={rowperpage}\r\n              component='div'\r\n              onPageChange={handlechangepage}\r\n              onRowsPerPageChange={handelrowperpage}\r\n               >\r\n\r\n              </TablePagination>\r\n             \r\n            </Paper>\r\n               \r\n               </div>\r\n               </div>    \r\n               </div>\r\n        </>\r\n      );\r\n}\r\n\r\nexport default Subcribes;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}